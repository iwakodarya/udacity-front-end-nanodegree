var Client;(()=>{"use strict";var e={448:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,'.banner{width:250px;text-align:center;margin:auto;padding:3px;border-radius:4px;font-family:"Afacad Flux",sans-serif}.banner-success{color:#276927;background-color:#a8e7a8}.banner-failure{color:#952929;background-color:#e9a6a6}',""]);const s=r},818:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,'.button{font-size:18px;font-family:"Afacad Flux",sans-serif;border:none;border-radius:4px;padding:7px;padding-left:12px;padding-right:12px;text-align:center}.button#add-trip-button{width:70%;background-color:#add8e6}.button:hover{cursor:pointer}',""]);const s=r},112:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,"",""]);const s=r},936:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,'#header{font-family:"Shadows Into Light Two",sans-serif}#app{display:flex;min-height:400px;font-family:"Afacad Flux",sans-serif}#trip-panel{width:75%;max-width:900px;min-height:100%;padding:20px}#trip-details{margin-top:20px;display:flex;flex-direction:column;gap:7px}.destination{border-radius:4px;border:1px solid #d3d3d3;padding:10px;display:flex;flex-direction:column;gap:10px}.destination .dest-header{display:flex;align-items:start;justify-content:space-between;margin-bottom:15px}.destination .dest-header h2{margin-top:0px}.destination .dest-day-view{display:flex;justify-content:space-between;padding:10px;border-radius:4px;border:1px solid #d3d3d3}.destination .dest-day-view h4{margin-top:0px}.dest-image{min-width:100px;max-width:30%}.weather{display:flex;gap:3px}.weather img{width:50px}.weather p{font-size:12px}.forecast{padding:6px;display:flex;flex-direction:column}.forecast p{text-align:center;margin-top:3px;margin-bottom:3px}',""]);const s=r},735:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,".modal{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.4)}.modal-content{width:50%;max-width:400px;margin:auto;padding:20px;background-color:#fff;border-radius:4px}.close-x{float:right;text-align:right;color:gray;font-size:20px;font-weight:bold}.close-x:hover,.close-x:focus{color:#000;text-decoration:none;cursor:pointer}label{font-size:18px}input{border-radius:4px;border:1px solid #d3d3d3;font-size:14px;margin:5px;padding:5px}input[type=text]{width:95%}#city-suggestions-list{list-style-type:none;padding-left:5px;margin-top:5px;font-style:italic}#city-suggestions-list li:hover,#city-suggestions-list li:focus{background-color:#d3d3d3;cursor:pointer}",""]);const s=r},732:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([e.id,"#side-panel{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;width:25%;max-width:300px;min-height:100%;border-right:3px solid #d3d3d3}#trips-list{width:90%}.trip-button{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:5px;border-radius:4px;border:1px solid #d3d3d3}.trip-button *{margin:10px}.trip-button:hover{background-color:#d3d3d3;cursor:pointer}",""]);const s=r},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(r[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},r=[],s=0;s<e.length;s++){var d=e[s],l=a.base?d[0]+a.base:d[0],c=o[l]||0,p="".concat(l," ").concat(c);o[l]=c+1;var u=n(p),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=i(m,a);a.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}r.push(p)}return r}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=a(e=e||[],i=i||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var s=n(o[r]);t[s].references--}for(var d=a(e,i),l=0;l<o.length;l++){var c=n(o[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=d}}},659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var a={};n.r(a),n.d(a,{state:()=>o});const i="http://localhost:3000",o={selectedTripId:""},r=(e,t,n)=>{const a=document.getElementById(e),i=document.getElementById(t),o=i.getElementsByClassName("close-x")[0];a.addEventListener("click",(()=>{i.style.display="block"})),o.addEventListener("click",(()=>{i.style.display="none"})),window.addEventListener("click",(e=>{e.target==i&&(i.style.display="none")})),i.addEventListener("submit",(e=>{i.style.display="none",n(e)})),document.getElementById("destName").addEventListener("input",(e=>{e.target.value.length>=2?p(e.target.value):document.getElementById("city-suggestions-list").innerHTML=""})),document.getElementById("city-suggestions-list").addEventListener("click",(e=>{document.getElementById("destName").value=e.target.innerHTML,document.getElementById("city-suggestions-list").innerHTML=""}))},s=(e,t=!0)=>{const n=document.createElement("div");n.className=t?"banner banner-success":"banner banner-failure",n.innerHTML=e,document.getElementById("header").appendChild(n),setTimeout((()=>{n.remove()}),2e3)};async function d(e){const t=await async function(e){try{const t=await fetch(i+"/trip/"+e);return await t.json()}catch(e){console.log(`Error in loadTrip():: ${e.message}`)}}(e),n=document.getElementById("trip-header");n.innerHTML="";const a=document.createElement("h1");a.innerHTML=t.tripName,n.appendChild(a),document.getElementById("trip-actions").style.display="block",document.getElementById("trip-details").innerHTML="",t.destinations.forEach((e=>async function(e){const t=document.createElement("div");t.classList.add("destination");const n=document.createElement("div");n.classList.add("dest-header");const a=document.createElement("h2");a.innerHTML=`üìç ${e.destName}`;const i=document.createElement("img");i.setAttribute("src",e.img),i.classList.add("dest-image"),n.appendChild(a),n.appendChild(i),t.appendChild(n);const o=[],r=new Date(e.endDate);let s=new Date(e.startDate);for(;s<=r;)o.push(new Date(s)),s.setDate(s.getDate()+1);o.forEach(((n,a)=>{const i=document.createElement("div");i.classList.add("dest-day-view");const o=document.createElement("h4");o.innerHTML=`Day ${a+1}: ${n.toLocaleDateString("en-US",{timeZone:"UTC"})}`,i.appendChild(o);const r=e.weatherForecast.find((e=>e.date==n.toISOString().slice(0,10))),s=document.createElement("div");if(s.classList.add("forecast"),r){const e=document.createElement("p");e.innerHTML=r.desc;const t=document.createElement("div");t.classList.add("weather");const n=document.createElement("img");n.setAttribute("src",`icons/${r.icon}`);const a=document.createElement("p");a.innerHTML=`Low: ${r.low_temp}C<br>\n            High: ${r.high_temp}C `,t.appendChild(n),t.appendChild(a),s.appendChild(e),s.appendChild(t)}else s.innerHTML="Forecast not yet available.";i.appendChild(s),t.appendChild(i)}));document.getElementById("trip-details").appendChild(t)}(e)))}const l=document.getElementById("trips-list");async function c(){const e=await async function(){try{const e=await fetch(i+"/loadtrips");if(!e.ok)throw new Error(`Error in loadTrips():: ${e.error}`);return await e.json()}catch(e){console.log(`Error in loadTrips():: ${e.message}`)}}();l.innerHTML="";const t=document.createElement("div"),n=document.createElement("h2");n.innerHTML="Upcoming",t.appendChild(n);const a=document.createElement("div"),o=document.createElement("h2");o.innerHTML="Past",a.appendChild(o);for(const n of e){const e=document.createElement("div");e.classList.add("trip-button"),e.setAttribute("data-tripid",n.tripId),e.innerHTML=`\n            <h3>${n.tripName}</h3>\n            <p>üóì ${n.startDate}</p>\n        `,Date.parse(n.endDate)>=Date.now()?t.appendChild(e):a.appendChild(e)}l.appendChild(t),l.appendChild(a)}l.addEventListener("click",(e=>{const t=e.target.closest(".trip-button");if(t){const e=t.dataset.tripid;o.selectedTripId=e,d(o.selectedTripId)}}));const p=function(){let e;return t=>{clearTimeout(e),e=setTimeout((e=>{!async function(e){try{const t=await fetch(i+"/places-search/"+e);!function(e){const t=document.getElementById("city-suggestions-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.innerHTML=e.displayName,t.appendChild(n)}))}(await t.json())}catch(e){document.getElementById("city-suggestions-list").innerHTML="No cities found."}}(e)})(t),2e3)}}();var u=n(72),m=n.n(u),f=n(825),h=n.n(f),g=n(659),y=n.n(g),x=n(56),w=n.n(x),v=n(540),b=n.n(v),E=n(113),T=n.n(E),A=n(112),L={};L.styleTagTransform=T(),L.setAttributes=w(),L.insert=y().bind(null,"head"),L.domAPI=h(),L.insertStyleElement=b(),m()(A.A,L),A.A&&A.A.locals&&A.A.locals;var I=n(936),C={};C.styleTagTransform=T(),C.setAttributes=w(),C.insert=y().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=b(),m()(I.A,C),I.A&&I.A.locals&&I.A.locals;var S=n(448),M={};M.styleTagTransform=T(),M.setAttributes=w(),M.insert=y().bind(null,"head"),M.domAPI=h(),M.insertStyleElement=b(),m()(S.A,M),S.A&&S.A.locals&&S.A.locals;var N=n(818),H={};H.styleTagTransform=T(),H.setAttributes=w(),H.insert=y().bind(null,"head"),H.domAPI=h(),H.insertStyleElement=b(),m()(N.A,H),N.A&&N.A.locals&&N.A.locals;var $=n(732),D={};D.styleTagTransform=T(),D.setAttributes=w(),D.insert=y().bind(null,"head"),D.domAPI=h(),D.insertStyleElement=b(),m()($.A,D),$.A&&$.A.locals&&$.A.locals;var j=n(735),k={};k.styleTagTransform=T(),k.setAttributes=w(),k.insert=y().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=b(),m()(j.A,k),j.A&&j.A.locals&&j.A.locals,c(),r("add-trip-button","new-trip-modal",(async function(e){e.preventDefault();const t=new FormData(e.target),n=Object.fromEntries(t);try{const e=await fetch(i+"/addnewtrip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();if(!e.ok)throw new Error(`${e.status} server response in createNewTrip():: ${t.message}`);s(`‚úÖ ${t.message}`),c()}catch(e){console.log(`Error in createNewTrip():: ${e.message}`),s(`‚ùå Error: ${e.message}`,!1)}})),r("add-destination-button","new-destination-modal",(async function(e){e.preventDefault();const t=new FormData(e.target),n=Object.fromEntries(t);try{const e=await fetch(i+"/add-destination-to-trip/"+o.selectedTripId,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();if(!e.ok)throw new Error(`${e.status} server response in addDestination():: ${t.message}`);s(`‚úÖ ${t.message}`),d(o.selectedTripId)}catch(e){console.log(`Error in addDestination():: ${e.message}`),s(`‚ùå Error: ${e.message}`,!1)}})),Client=a})();