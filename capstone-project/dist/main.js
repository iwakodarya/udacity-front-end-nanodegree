var Client;(()=>{"use strict";var t={448:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,'.banner{width:250px;text-align:center;margin:auto;padding:3px;border-radius:4px;font-family:"Afacad Flux",sans-serif}.banner-success{color:#276927;background-color:#a8e7a8}.banner-failure{color:#952929;background-color:#e9a6a6}',""]);const s=r},818:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,'.button{font-size:18px;font-family:"Afacad Flux",sans-serif;border:none;border-radius:4px;padding:7px;padding-left:12px;padding-right:12px;text-align:center}.button#add-trip-button{width:70%;background-color:#add8e6}.button:hover{cursor:pointer}',""]);const s=r},112:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,"",""]);const s=r},936:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,'#header{font-family:"Shadows Into Light Two",sans-serif}#app{display:flex;min-height:400px;font-family:"Afacad Flux",sans-serif}#trip-panel{width:75%;max-width:900px;min-height:100%;padding:20px}#trip-details{margin-top:20px;display:flex;flex-direction:column;gap:7px}.destination{border-radius:4px;border:1px solid #d3d3d3;padding:10px;display:flex;flex-direction:column;gap:10px}.destination .dest-header{display:flex;align-items:start;justify-content:space-between;margin-bottom:15px}.destination .dest-header h2{margin-top:0px}.destination .dest-day-view{display:flex;justify-content:space-between;padding:10px;border-radius:4px;border:1px solid #d3d3d3}.destination .dest-day-view h4{margin-top:0px}.dest-image{min-width:100px;max-width:30%}.weather{display:flex;gap:3px}.weather img{width:50px}.weather p{font-size:12px}.forecast{padding:6px;display:flex;flex-direction:column}.forecast p{text-align:center;margin-top:3px;margin-bottom:3px}',""]);const s=r},735:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,".modal{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.4)}.modal-content{width:50%;max-width:400px;margin:auto;padding:20px;background-color:#fff;border-radius:4px}.close-x{float:right;text-align:right;color:gray;font-size:20px;font-weight:bold}.close-x:hover,.close-x:focus{color:#000;text-decoration:none;cursor:pointer}label{font-size:18px}input{border-radius:4px;border:1px solid #d3d3d3;font-size:14px;margin:5px;padding:5px}input[type=text]{width:95%}#city-suggestions-list{list-style-type:none;padding-left:5px;margin-top:5px;font-style:italic}#city-suggestions-list li:hover,#city-suggestions-list li:focus{background-color:#d3d3d3;cursor:pointer}",""]);const s=r},732:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(601),i=n.n(a),o=n(314),r=n.n(o)()(i());r.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Shadows+Into+Light+Two&display=swap);"]),r.push([t.id,"#side-panel{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;width:25%;max-width:300px;min-height:100%;border-right:3px solid #d3d3d3}#trips-list{width:90%}.trip-button{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:5px;border-radius:4px;border:1px solid #d3d3d3}.trip-button *{margin:10px}.trip-button:hover{background-color:#d3d3d3;cursor:pointer}",""]);const s=r},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(r[d]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);a&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var o={},r=[],s=0;s<t.length;s++){var d=t[s],l=a.base?d[0]+a.base:d[0],c=o[l]||0,p="".concat(l," ").concat(c);o[l]=c+1;var u=n(p),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(m);else{var f=i(m,a);a.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}r.push(p)}return r}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=a(t=t||[],i=i||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var s=n(o[r]);e[s].references--}for(var d=a(t,i),l=0;l<o.length;l++){var c=n(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=d}}},659:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var a={};n.r(a),n.d(a,{state:()=>o});const i="http://localhost:3000",o={selectedTripId:""},r=(t,e,n)=>{const a=document.getElementById(t),i=document.getElementById(e),o=i.getElementsByClassName("close-x")[0];a.addEventListener("click",(()=>{i.style.display="block"})),o.addEventListener("click",(()=>{i.style.display="none"})),window.addEventListener("click",(t=>{t.target==i&&(i.style.display="none")})),i.addEventListener("submit",(t=>{i.style.display="none",n(t)})),document.getElementById("destName").addEventListener("input",(t=>{t.target.value.length>=2?p(t.target.value):document.getElementById("city-suggestions-list").innerHTML=""})),document.getElementById("city-suggestions-list").addEventListener("click",(t=>{document.getElementById("destName").value=t.target.innerHTML,document.getElementById("city-suggestions-list").innerHTML=""}))},s=(t,e=!0)=>{const n=document.createElement("div");n.className=e?"banner banner-success":"banner banner-failure",n.innerHTML=t,document.getElementById("header").appendChild(n),setTimeout((()=>{n.remove()}),2e3)};async function d(t){const e=await async function(t){try{const e=await fetch(i+"/trip/"+t);return await e.json()}catch(t){console.log(`Error in loadTrip():: ${t.message}`)}}(t),n=document.getElementById("trip-header");n.innerHTML="";const a=document.createElement("h1");a.innerHTML=e.tripName,n.appendChild(a),document.getElementById("trip-actions").style.display="block",document.getElementById("trip-details").innerHTML="",e.destinations.forEach((t=>async function(t){const e=document.createElement("div");e.classList.add("destination");const n=document.createElement("div");n.classList.add("dest-header");const a=document.createElement("h2");a.innerHTML=`üìç ${t.destName}`;const i=document.createElement("img");i.setAttribute("src",t.img),i.classList.add("dest-image"),n.appendChild(a),n.appendChild(i),e.appendChild(n);const o=[],r=new Date(t.endDate);let s=new Date(t.startDate);for(;s<=r;)o.push(new Date(s)),s.setDate(s.getDate()+1);o.forEach(((n,a)=>{const i=document.createElement("div");i.classList.add("dest-day-view");const o=document.createElement("h4");o.innerHTML=`Day ${a+1}: ${n.toLocaleDateString("en-US",{timeZone:"UTC"})}`,i.appendChild(o);const r=t.weatherForecast.find((t=>t.date==n.toISOString().slice(0,10))),s=document.createElement("div");if(s.classList.add("forecast"),r){const t=document.createElement("p");t.innerHTML=r.desc;const e=document.createElement("div");e.classList.add("weather");const n=document.createElement("img");n.setAttribute("src",`icons/${r.icon}`);const a=document.createElement("p");a.innerHTML=`Low: ${r.low_temp}C<br>\n            High: ${r.high_temp}C `,e.appendChild(n),e.appendChild(a),s.appendChild(t),s.appendChild(e)}else s.innerHTML="Forecast not yet available.";i.appendChild(s),e.appendChild(i)}));document.getElementById("trip-details").appendChild(e)}(t)))}const l=document.getElementById("trips-list");async function c(){const t=await async function(){try{const t=await fetch(i+"/loadtrips");if(!t.ok)throw new Error(`Error in loadTrips():: ${t.error}`);return await t.json()}catch(t){console.log(`Error in loadTrips():: ${t.message}`)}}();l.innerHTML="";const e=document.createElement("div"),n=document.createElement("h2");n.innerHTML="Upcoming",e.appendChild(n);const a=document.createElement("div"),o=document.createElement("h2");o.innerHTML="Past",a.appendChild(o);for(const n of t){const t=document.createElement("div");t.classList.add("trip-button"),t.setAttribute("data-tripid",n.tripId),t.innerHTML=`\n            <h3>${n.tripName}</h3>\n            <p>üóì ${n.startDate}</p>\n        `,Date.parse(n.endDate)>=Date.now()?e.appendChild(t):a.appendChild(t)}l.appendChild(e),l.appendChild(a)}l.addEventListener("click",(t=>{const e=t.target.closest(".trip-button");if(e){const t=e.dataset.tripid;o.selectedTripId=t,d(o.selectedTripId)}}));const p=function(){let t;return e=>{clearTimeout(t),t=setTimeout((t=>{!async function(t){try{const e=await fetch(i+"/places-search/"+t);!function(t){const e=document.getElementById("city-suggestions-list");e.innerHTML="",t.forEach((t=>{const n=document.createElement("li");n.innerHTML=t.displayName,e.appendChild(n)}))}(await e.json())}catch(t){document.getElementById("city-suggestions-list").innerHTML="No cities found."}}(t)})(e),2e3)}}();var u=n(72),m=n.n(u),f=n(825),h=n.n(f),g=n(659),y=n.n(g),x=n(56),w=n.n(x),v=n(540),b=n.n(v),E=n(113),T=n.n(E),A=n(112),L={};L.styleTagTransform=T(),L.setAttributes=w(),L.insert=y().bind(null,"head"),L.domAPI=h(),L.insertStyleElement=b(),m()(A.A,L),A.A&&A.A.locals&&A.A.locals;var I=n(936),C={};C.styleTagTransform=T(),C.setAttributes=w(),C.insert=y().bind(null,"head"),C.domAPI=h(),C.insertStyleElement=b(),m()(I.A,C),I.A&&I.A.locals&&I.A.locals;var S=n(448),M={};M.styleTagTransform=T(),M.setAttributes=w(),M.insert=y().bind(null,"head"),M.domAPI=h(),M.insertStyleElement=b(),m()(S.A,M),S.A&&S.A.locals&&S.A.locals;var H=n(818),N={};N.styleTagTransform=T(),N.setAttributes=w(),N.insert=y().bind(null,"head"),N.domAPI=h(),N.insertStyleElement=b(),m()(H.A,N),H.A&&H.A.locals&&H.A.locals;var D=n(732),$={};$.styleTagTransform=T(),$.setAttributes=w(),$.insert=y().bind(null,"head"),$.domAPI=h(),$.insertStyleElement=b(),m()(D.A,$),D.A&&D.A.locals&&D.A.locals;var j=n(735),k={};k.styleTagTransform=T(),k.setAttributes=w(),k.insert=y().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=b(),m()(j.A,k),j.A&&j.A.locals&&j.A.locals,c(),r("add-trip-button","new-trip-modal",(async function(t){t.preventDefault();const e=new FormData(t.target),n=Object.fromEntries(e);try{const t=await fetch(i+"/addnewtrip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e=await t.json();if(!t.ok)throw new Error(`${t.status} server response in addDestination():: ${e.message}`);s(`‚úÖ ${e.message}`),c()}catch(t){console.log(`Error in createNewTrip():: ${t.message}`),s(`‚ùå Error: ${t.message}`,!1)}})),r("add-destination-button","new-destination-modal",(async function(t){t.preventDefault();const e=new FormData(t.target),n=Object.fromEntries(e);try{const t=await fetch(i+"/add-destination-to-trip/"+o.selectedTripId,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e=await t.json();if(!t.ok)throw new Error(`${t.status} server response in addDestination():: ${e.message}`);s(`‚úÖ ${e.message}`),d(o.selectedTripId)}catch(t){console.log(`Error in addDestination():: ${t.message}`),s(`‚ùå Error: ${t.message}`,!1)}})),Client=a})();